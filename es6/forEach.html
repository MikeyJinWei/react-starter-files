<!DOCTYPE html>
<html>
  <head>
    <title>陣列方法</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
    <script src="/javascripts/vendor.js"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.2.0/redux.min.js"
      integrity="sha512-1/8Tj23BRrWnKZXeBruk6wTnsMJbi/lJsk9bsRgVwb6j5q39n0A00gFjbCTaDo5l5XrPVv4DZXftrJExhRF/Ug=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body class="bg-lighter">
    <div class="container main my-5">
      <div class="row">
        <main class="col post">
          <!-- 章節標題 -->
          <div class="mb-4">
            <h1 class="mt-0 text-muted">陣列方法</h1>
            <small>檔名：<code>forEach.html</code></small>
          </div>
          <!-- 🔥🔥練習開始🔥🔥 -->
          <div id="root"></div>
          <script type="text/babel">
            const people = [
              {
                name: "卡斯伯",
                like: "鍋燒意麵",
                price: 80,
              },
              {
                name: "小明",
                like: "牛肉麵",
                price: 120,
              },
              {
                name: "漂亮阿姨",
                like: "滷味切盤",
                price: 40,
              },
              {
                name: "Ray",
                like: "大麻醬乾麵",
                price: 60,
              },
            ];

            // #1. 更完整的陣列，也可參考此影片
            // https://www.youtube.com/watch?v=_vFuDQ_6Xt8

            // #2. 操作所有陣列內的值（同一個陣列）
            // e.g. 將每筆訂單都新增 key 表示打八折後的新價格
            // people.forEach((item, i, el) => {
            //   console.log(item, i, el);
            // });
            // people.forEach((item, i) => (item.newPrice = item.price * 0.8));
            // console.log(people);

            // #3. 重新建立新的陣列
            // const orders = people.map((order, i) => {
            //   return {
            //     ...order,
            //     newPrice: order.price * 0.8,
            //   };
            // });
            // const orders = people.map((order, i) => ({
            //   ...order,
            //   newPrice: order.price * 0.8,
            // }));

            // console.log(people, orders);

            // #4 map 使用注意事項
            // e.g. 跳樓大拍賣，> 60 元的訂單才要結帳，並打上八折
            // const orders = people.map((order, i) => {
            //   if (order.price > 60) {
            //     return {
            //       ...order,
            //       price: order.price * 0.8,
            //     };
            //   }
            // });

            // console.log(people, orders);

            // const filteredOrders = people.filter(
            //   (order, i) => order.price > 60
            // ); // 先篩選出
            // const orders = filteredOrders.map((order, i) => ({
            //   ...order,
            //   price: order.price * 0.8, // 才拷貝、進行操作
            // }));
            // console.log(people, orders);

            // const order = people
            //   .filter((order, i) => order.price > 60) // 篩選完
            //   // 直接接續 map 處理
            //   .map((order, i) => ({
            //     ...order,
            //     price: order.price * 0.8,
            //   })); // 省去新增 filteredOrders 變數

            // console.log(people, order);
            // // 當直接回傳時，會出現 undefined 的內容

            // 解法

            // #5 map 在 React 中的運用
            const App = () => {
              const people = [
                {
                  name: "卡斯伯",
                  like: "鍋燒意麵",
                  price: 80,
                },
                {
                  name: "小明",
                  like: "牛肉麵",
                  price: 120,
                },
                {
                  name: "漂亮阿姨",
                  like: "滷味切盤",
                  price: 40,
                },
                {
                  name: "Ray",
                  like: "大麻醬乾麵",
                  price: 60,
                },
              ];

              return (
                <div>
                  <ul>
                    {people.map((order, i) => {
                      return (
                        <li key={i}>
                          {" "}
                          {/* 傳入 key 值作為 */}
                          {order.name} 喜歡吃 {order.like}
                        </li>
                      );
                    })}
                  </ul>
                </div>
              );
            };

            ReactDOM.createRoot(document.getElementById("root")).render(
              <App></App>
            );
          </script>
          <!-- 🙇🙇練習結束🙇🙇 -->
        </main>

        <aside class="col-md-3">
          <div class="sticky-top" style="top: 76px">
            <div class="list-group">
              <a
                href="/es6/shorthand.html"
                class="list-group-item list-group-item-action"
              >
                語法糖
              </a>

              <a
                href="/es6/destructuringAssignment.html"
                class="list-group-item list-group-item-action"
              >
                解構
              </a>

              <a
                href="/es6/arrowFunction.html"
                class="list-group-item list-group-item-action"
              >
                箭頭函式
              </a>

              <a
                href="/es6/forEach.html"
                class="list-group-item list-group-item-action active"
              >
                陣列方法
              </a>

              <a
                href="/es6/objectReference.html"
                class="list-group-item list-group-item-action"
              >
                物件參考特性
              </a>

              <a
                href="/es6/promise.html"
                class="list-group-item list-group-item-action"
              >
                Promise
              </a>

              <a
                href="/es6/asyncAwait.html"
                class="list-group-item list-group-item-action"
              >
                Async/Await
              </a>

              <a
                href="/es6/asyncAwaitAdv.html"
                class="list-group-item list-group-item-action"
              >
                Async/Await 進階
              </a>

              <a
                href="/es6/esModule.html"
                class="list-group-item list-group-item-action"
              >
                ES Module
              </a>
            </div>
            <div class="mt-3 text-end p-2 bg-light rounded">
              <small class="text-black-50 fw-light mb-0"
                >文件版本：2022/10/31</small
              >
            </div>
          </div>
        </aside>
      </div>
    </div>

    <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">React 練習手冊</a>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/intro/createApp.html">認識 React</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/es6/shorthand.html"
                >JS 必備觀念</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/components/intro.html">元件基礎</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/hooks/startHooks.html">Hooks</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/form/basicForm.html">表單</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/hooksAdv/lifeCycle.html">Hooks 進階</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <footer class="footer py-2 bg-light">
      <div class="container text-center">
        <small class="text-black-50 fw-light mb-0"
          >六角學院 React 課程專屬文件</small
        >
      </div>
    </footer>
    <link rel="stylesheet" href="/stylesheets/all.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"
    />
  </body>
</html>
